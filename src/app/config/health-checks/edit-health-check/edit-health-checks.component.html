<grid-main>
  <app-page-subtitle [subtitle]="'Health Check'"></app-page-subtitle>
  <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="10px">
    <simulate-form-field label="Created"  message="{{ healthc['time'] | uiDate }}"></simulate-form-field>
    <simulate-form-field label="Created"  message="{{ healthc['status'] | HCstatus | lowercase | titlecase }}"></simulate-form-field>
  </div>
</grid-main>
<!-- Body -->
<app-table>
  <app-page-subtitle [subtitle]="'Checked Agents'"></app-page-subtitle>
  <table style="width: 100%" class="table table-striped table-hover table-sm" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
    <thead class="thead-light">
      <tr>
          <th class="rounded-start">ID</th>
          <th>Agent</th>
          <th>Status</th>
          <th>Time Required</th>
          <th># Devices</th>
          <th>Cracked</th>
          <th class="rounded-end" >Errors</th>
      </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let ha of healthca">
          <td class="text-align:center">{{ ha.healthCheckAgentId }}</td>
          <td>
            {{ ha.agentName | shortenString:15 }}
            <a class='btn-outline-gray-600 float-right' [routerLink]="['/agents/show-agents',ha.agentId,'edit']" data-toggle="tooltip" data-placement="top" title="Edit Agent">
              <fa-icon [icon]="faEye" aria-hidden="true"></fa-icon>
            </a>
          </td>
          <td>{{ ha.status | HCstatus | lowercase | titlecase  }}</td>
          <td>
            <div *ngIf="ha.status != 0; else templateNA">
            {{ ha.start }}
            </div>
          </td>
          <td>
            <div *ngIf="ha.status != 0; else templateNA">
            {{ ha.numGpus }}
            </div>
          </td>
          <td>
            <div *ngIf="ha.status != 0; else templateNA">
            {{ ha.cracked }}
            </div>
          </td>
          <td>
            <div *ngIf="ha.status != 0; else templateNA">
            {{ ha.errors }}
            </div>
          </td>
        </tr>
      </tbody>
  </table>
</app-table>
<!-- Template NA -->
<ng-template #templateNA>
    <td>
      N/A
    </td>
</ng-template>
